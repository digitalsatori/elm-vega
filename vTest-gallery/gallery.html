<!DOCTYPE html>
<html>

<head>
  <title>Vega Test Gallery</title>
  <meta charset="utf-8">

  <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet">
  <style>body {font-family: 'Roboto', sans-serif;} #elmContainer{background-color: rgb(252,247,236);} .view > * { display: inline-block; vertical-align: top; line-height: 1.6; margin-left: 1em;}</style>

  <!-- These scripts link to the Vega runtime -->
  <!-- TODO: When Vega 4 fully released, link to npm package <script src="https://cdn.jsdelivr.net/npm/vega@4"></script>
  -->
  <script src="https://vega.github.io/vega/vega.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

  <!-- The following is only needed when using custom D3 projections. -->
  <script src="https://d3js.org/d3-array.v1.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script src="https://d3js.org/d3-geo.v1.min.js"></script>


  <!-- This is the script generated from Elm -->
  <script src="js/gallery.js"></script>
</head>

<body>

  <h1>Vega Test Gallery</h1>

  <h2>Bar Charts</h2>
  <p>
    A bar chart encodes quantitative values as the extent of rectangular bars.
    This example includes basic highlighting and tooltips on mouse hover.
  </p>
  <div id="barChart1" class="view"></div>

  <p>
    A stacked bar chart depicts the sum of series of quantitative values using layered bars, while still enabling inspection of individual series.
  </p>
  <div id="barChart2" class="view"></div>

  <p>
    This grouped bar chart facets the data into groups, then creates a bar chart for each sub-group.
  </p>
  <div id="barChart3" class="view"></div>

  <p>
    This nested bar chart depicts aggregated values across multiple categories.
    The input data is subdivided according to two fields (with uneven category membership).
    Each sub-group is then aggregated to show the average value of a third, quantitative field.
  </p>
  <div id="barChart4" class="view"></div>

  <p>
    A population pyramid shows the distribution of age groups within a population.
    This example shows males and females across 150 years of U.S. census data.
    Drag the slider to see the U.S. population change over time (but watch out for missing data in 1890!).
  </p>
  <div id="barChart5" class="view"></div>

  <h2>Line and Area Charts</h2>
  <p>
     Different interpolators change the curvature of the line.
     Options such as cardinal or Catmull-Rom interpolation can produce pleasing curves, but can also “hallucinate” maximum or minimum values that do not exist in the data.
     Use monotone interpolation for smooth curves that faithfully preserve monotonicity.
  </p>
  <div id="lineChart1" class="view"></div>

  <p>
    An area chart uses a filled shape to show changes in a quantitative value.
  </p>
  <div id="areaChart1" class="view"></div>

  <p>
    A stacked area chart depicts the sum of series of quantitative values using layered areas, while still enabling inspection of individual series.
  </p>
  <div id="areaChart2" class="view"></div>

  <p>
    By dividing an area chart into consecutive layers, horizon graphs present time-series data in a compact space while preserving resolution.
    Click the chart to change the number of layers.
    Though the chart size changes, the spatial resolution of the area chart stays constant.
  </p>
  <div id="areaChart3" class="view"></div>

  <p>
    The Job Voyager is an interactive stacked graph of occupations based on 150 years of U.S. census data.
    Either click elements or type queries to explore.
    The search box supports regular expressions; for example the query <code>ist$</code> finds all jobs ending with 'ist'.
  </p>
  <div id="areaChart4" class="view"></div>

  <h2>Circular Charts</h2>
  <p>
    Pie and donut charts encode proportional differences among a set of numeric values as the angular extent and in area of a circular slice.
  </p>
  <div id="circularChart1" class="view"></div>

  <p>
    This radial plot uses both angular and radial extent to convey multiple dimensions of data.
    However, this approach is not perceptually effective, as viewers will most likely be drawn to the total area of the shape, conflating the two dimensions.
    This example also demonstrates one way to add labels to circular plots.
  </p>
  <div id="circularChart2" class="view"></div>

  <h2>Dot and Scatter Plots</h2>
  <p>
    Scatter plots are ideal for visualizing the relationship between two quantitative variables.
    This example plots horsepower vs. mileage for a data set of cars.
    A size encoding is used to additionally depict acceleration.
  </p>
  <div id="scatterplot1" class="view"></div>

  <p>
    A configurable scatter plot of movie statistics, including IMDB and Rotten Tomatoes review scores.
    Null values in one or more dimensions are depicted along the margins to better convey missing values.
    Tooltips are included for interactive inspection of individual movies.
  </p>
  <div id="scatterplot2" class="view"></div>


  <p>
    A connected scatter plot uses line segments to connect consecutive scatter plot points, for example to illustrate trajectories over time.
    This example shows the shifting relationship between the price of gas and the average number of miles driven in a year, adapted from Driving Shifts Into Reverse by Hannah Fairfield, The New York Times (May 2, 2010).
  </p>
  <div id="scatterplot3" class="view"></div>

  <p>
    A dot plot of average yields for a variety of barley strains, with error bars indicating the spread of values.
    Vega can visualize pre-calculated error ranges or apply a number of standard measures.
    Use the drop down menu to visualize different measures of spread, including the 95% confidence interval of the mean (calculated via bootstrapping), standard error, standard deviation, and the interquartile range.
  </p>
  <div id="scatterplot4" class="view"></div>

  <h2>Geographic</h2>
  <p>
    A choropleth map of 2009 U.S. unemployment rates by county.
    A quantize scale is used to divide the color range into 9 discrete, uniformly-spaced bins.
  </p>
  <div id="geo1" class="view"></div>

  <p>
    A Dorling cartogram is a thematic map that uses sized circles to represent a quantity of interest per geographic region.
    This example visualizes the ratio of obese adults (BMI >= 30) by U.S. state in 2008.
    A double encoding uses both circle area and fill color to convey the obesity rate.
    Vega’s force transform and geoCentroid expression function are used to compute the layout.
  </p>
  <div id="geo2" class="view"></div>


  <p>
    A configurable map of world countries. Explore the results of applying different map projections and parameter settings.
    This example loads TopoJSON data and applies the Vega geoshape and graticule transforms.
  </p>
  <div id="geo3" class="view"></div>

  <p>
    A globe visualization of earthquakes reported by the USGS for the week of February 6, 2018.
    The earthquakes are formatted as GeoJSON data, and the geoshape transform’s pointRadius parameter is used to visualize earthquake magnitude as a circular area.
    This example is based on Jeremy Ashkenas’ <a href="https://beta.observablehq.com/@jashkenas/quakespotter-0-1" target="_blank">USGS World Earthquake Map</a>.
  </p>
  <div id="geo4" class="view"></div>

  <p>
    A gallery of world maps using various cartographic projections.
    Each map clips the projected land masses and graticule to the sphere of the Earth to ensure no extraneous shapes are shown.
    This example uses projections from the <a href="https://github.com/d3/d3-geo-projection" target="_blank">d3-geo-projection library</a> that are not included in the standard Vega release.
  </p>
  <div id="geo5" class="view"></div>

  <h2>Source</h2>
  <details><summary>click to see code</summary>
    <div id="elmContainer"></div>
  </details>

  <script>
  vega.projection("airy", d3.geoAiry);
vega.projection("aitoff", d3.geoAitoff);
vega.projection("armadillo", d3.geoArmadillo);
vega.projection("august", d3.geoAugust);
vega.projection("baker", d3.geoBaker);
vega.projection("berghaus", d3.geoBerghaus);
vega.projection("bertin1953", d3.geoBertin1953);
vega.projection("boggs", d3.geoBoggs);
vega.projection("bonne", d3.geoBonne);
vega.projection("bottomley", d3.geoBottomley);
vega.projection("collignon", d3.geoCollignon);
vega.projection("craig", d3.geoCraig);
vega.projection("craster", d3.geoCraster);
vega.projection("cylindricalequalarea", d3.geoCylindricalEqualArea);
vega.projection("cylindricalstereographic", d3.geoCylindricalStereographic);
vega.projection("eckert1", d3.geoEckert1);
vega.projection("eckert2", d3.geoEckert2);
vega.projection("eckert3", d3.geoEckert3);
vega.projection("eckert4", d3.geoEckert4);
vega.projection("eckert5", d3.geoEckert5);
vega.projection("eckert6", d3.geoEckert6);
vega.projection("eisenlohr", d3.geoEisenlohr);
vega.projection("fahey", d3.geoFahey);
vega.projection("foucaut", d3.geoFoucaut);
vega.projection("gingery", d3.geoGingery);
vega.projection("guyou", d3.geoGuyou);
vega.projection("hammer", d3.geoHammer);
vega.projection("littrow", d3.geoLittrow);
vega.projection("mollweide", d3.geoMollweide);
vega.projection("wagner6", d3.geoWagner6);
vega.projection("wiechel", d3.geoWiechel);
vega.projection("winkel3", d3.geoWinkel3);
vega.projection("interruptedSinusoidal", d3.geoInterruptedSinusoidal);
vega.projection("interruptedMollweide", d3.geoInterruptedMollweide);
vega.projection(
  "interruptedMollweideHemispheres",
  d3.geoInterruptedMollweideHemispheres
);
vega.projection("polyhedralButterfly", d3.geoPolyhedralButterfly);
vega.projection("peirceQuincuncial", d3.geoPeirceQuincuncial);
</script>

  <script>
  Elm.Gallery.embed(
  document.getElementById("elmContainer")
).ports.elmToJS.subscribe(function(namedSpecs) {
  for (let name of Object.keys(namedSpecs)) {
    vegaEmbed(`#${name}`, namedSpecs[name], {
      actions: false,
      logLevel: vega.Warn
    }).catch(console.warn);
  }
});
</script>

</body>

</html>
